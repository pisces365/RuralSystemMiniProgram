{"version":3,"sources":["webpack:///D:/uni-appWorkSpace/RuralSystemMiniProgram/RuralSystemMiniProgram/uni_modules/s-ui/components/s-fixed/s-fixed.vue?3f28","webpack:///D:/uni-appWorkSpace/RuralSystemMiniProgram/RuralSystemMiniProgram/uni_modules/s-ui/components/s-fixed/s-fixed.vue?c7cd","webpack:///D:/uni-appWorkSpace/RuralSystemMiniProgram/RuralSystemMiniProgram/uni_modules/s-ui/components/s-fixed/s-fixed.vue?6bbc","webpack:///D:/uni-appWorkSpace/RuralSystemMiniProgram/RuralSystemMiniProgram/uni_modules/s-ui/components/s-fixed/s-fixed.vue?ead5","uni-app:///uni_modules/s-ui/components/s-fixed/s-fixed.vue"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","top","type","Number","String","default","bottom","fixed","Boolean","zIndex","background","safeAreaInset","data","computed","wrap_style","isFixed","style","opacity","height","$mergeStyle","c_style","position","width","custom_style","offset","$toPx","otherHeight","parseInt","windowTop","windowBottom","refreshState","watch","refresh","created","systemInfo","mounted","methods","$nextTick"],"mappings":";;;;2DAAA,kTACIA,EADJ,iKASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,kDACZ,aAAAF,E;;;;2GCvBf,gmC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,wtBAAiqB,eAAG,G;;;;0ICWpqB,kD,yDAcA,CACA,cACA,mBACA,OACA,UACA,YACA,kBAEIC,IAAK,CACHC,KAAM,CAACC,OAAQC,QACfC,QAAS,GAEXC,OAAQ,CACNJ,KAAM,CAACC,OAAQC,QACfC,QAAS,GAEXE,MAAO,CACLL,KAAMM,QACNH,SAAS,GAEXI,OAAQ,CAACN,OAAQC,QACjBM,WAAYN,OACZO,cAAeH,SAEjBI,KAAM,WAAR,OACA,WACA,QACA,SACA,YACA,iBAEEC,SAAU,CACRC,WADJ,WAEM,IAAN,KAMM,OALIrB,KAAKc,QAAUd,KAAKsB,QACtBC,EAAMC,QAAU,EACxB,eACQD,EAAME,OAASzB,KAAKyB,OAAS,MAExBzB,KAAK0B,YAAYH,IAE1BI,QAVJ,WAWM,IAAN,GACQV,WAAYjB,KAAKiB,YAQnB,OANIjB,KAAKsB,UACPC,EAAMK,SAAW,QACjBL,EAAMM,MAAQ7B,KAAK6B,MAAQ,KAC3BN,EAAMvB,KAAK4B,UAAY,KAA/B,6BACQL,EAAMP,OAAShB,KAAKgB,QAEfhB,KAAK0B,YAAYH,EAAOvB,KAAK8B,eAEtCC,OAtBJ,WAuBM,OAAO/B,KAAKgC,MAAwB,QAAlBhC,KAAK4B,SAAqB5B,KAAKQ,IAAMR,KAAKa,SAE9DoB,YAzBJ,WA0BM,OAAOC,SAA2B,QAAlBlC,KAAK4B,SAAqB5B,KAAKmC,UAAYnC,KAAKoC,eAElEC,aA5BJ,WA6BM,MAAO,CACP,KAAN,MACM,KAAN,SACM,KAAN,IACM,KAAN,OACM,KAAN,iBAIEC,MAAO,CACLD,aADJ,WAEMrC,KAAKuC,YAGTC,QA1EF,WA2EI,IAAJ,wBACIxC,KAAKmC,UAAYM,EAAWN,WAAa,EACzCnC,KAAKoC,aAAeK,EAAWL,cAAgB,GAEjDM,QA/EF,WAgFI1C,KAAKuC,WAEPI,QAAS,CACPJ,QADJ,WACA,WACMvC,KAAK4C,WAAU,WACR,EAAb,qCAGU,EAAV,gDACY,EAAZ,WACY,EAAZ,cACY,EAAZ,mBALU,EAAV,iB","file":"uni_modules/s-ui/components/s-fixed/s-fixed.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./s-fixed.vue?vue&type=template&id=3824b090&scoped=true&\"\nvar renderjs\nimport script from \"./s-fixed.vue?vue&type=script&lang=js&\"\nexport * from \"./s-fixed.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.scss?vue&type=style&index=0&id=3824b090&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3824b090\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/s-ui/components/s-fixed/s-fixed.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./s-fixed.vue?vue&type=template&id=3824b090&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./s-fixed.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./s-fixed.vue?vue&type=script&lang=js&\"","<template>\r\n  <view :style=\"wrap_style\">\r\n    <view :id=\"$sUid\" class=\"s-fixed\" :class=\"custom_class\" :style=\"c_style\">\r\n      <view v-if=\"fixed && safeAreaInset && position === 'top'\" style=\"height: var(--safe-area-inset-top)\"></view>\r\n      <slot />\r\n      <view v-if=\"fixed && safeAreaInset && position === 'bottom'\" style=\"height: var(--safe-area-inset-bottom)\"></view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport componentMixin from '../../mixins/componentMixin';\r\n\r\n/**\r\n * s-fixed 固定定位\r\n * @description 固定某个元素到一个位置\r\n * @property {String} position = [top|bottom] 固定方向\r\n * @property {Number|String} top 顶部的距离，单位rpx\r\n * @property {Number|String} bottom 底部的距离，单位rpx\r\n * @property {Boolean} fixed 启用固定功能\r\n * @property {Number|String} zIndex z-index\r\n * @property {String} background 背景色\r\n * @property {Boolean} safeAreaInset 是否空出底部或顶部安全距离\r\n * @example <s-fixed></s-fixed>\r\n */\r\nexport default {\r\n  name: 'SFixed',\r\n  mixins: [componentMixin],\r\n  props: {\r\n    position: {\r\n      type: String,\r\n      default: 'bottom',\r\n    },\r\n    top: {\r\n      type: [Number, String],\r\n      default: 0,\r\n    },\r\n    bottom: {\r\n      type: [Number, String],\r\n      default: 0,\r\n    },\r\n    fixed: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    zIndex: [Number, String],\r\n    background: String,\r\n    safeAreaInset: Boolean,\r\n  },\r\n  data: () => ({\r\n    isFixed: false,\r\n    width: 0,\r\n    height: 0,\r\n    windowTop: 0,\r\n    windowBottom: 0,\r\n  }),\r\n  computed: {\r\n    wrap_style() {\r\n      const style = {};\r\n      if (this.fixed && !this.isFixed) {\r\n        style.opacity = 0;\r\n      } else if (this.isFixed) {\r\n        style.height = this.height + 'px';\r\n      }\r\n      return this.$mergeStyle(style);\r\n    },\r\n    c_style() {\r\n      const style = {\r\n        background: this.background,\r\n      };\r\n      if (this.isFixed) {\r\n        style.position = 'fixed';\r\n        style.width = this.width + 'px';\r\n        style[this.position] = (this.offset + this.otherHeight) + 'px';\r\n        style.zIndex = this.zIndex;\r\n      }\r\n      return this.$mergeStyle(style, this.custom_style);\r\n    },\r\n    offset() {\r\n      return this.$toPx(this.position === 'top' ? this.top : this.bottom);\r\n    },\r\n    otherHeight() {\r\n      return parseInt(this.position === 'top' ? this.windowTop : this.windowBottom);\r\n    },\r\n    refreshState() {\r\n      return [\r\n        this.fixed,\r\n        this.position,\r\n        this.top,\r\n        this.bottom,\r\n        this.safeAreaInset,\r\n      ];\r\n    },\r\n  },\r\n  watch: {\r\n    refreshState() {\r\n      this.refresh();\r\n    },\r\n  },\r\n  created() {\r\n    const systemInfo = uni.getSystemInfoSync();\r\n    this.windowTop = systemInfo.windowTop || 0;\r\n    this.windowBottom = systemInfo.windowBottom || 0;\r\n  },\r\n  mounted() {\r\n    this.refresh();\r\n  },\r\n  methods: {\r\n    refresh() {\r\n      this.$nextTick(() => {\r\n        if (!this._isMounted || this._isDestroyed || !this.fixed) {\r\n          this.isFixed = false;\r\n        } else {\r\n          this.$getRect(`#${this.$sUid}`).then(rect => {\r\n            this.isFixed = true;\r\n            this.width = rect.width;\r\n            this.height = rect.height;\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped src=\"./index.scss\"></style>\r\n"],"sourceRoot":""}